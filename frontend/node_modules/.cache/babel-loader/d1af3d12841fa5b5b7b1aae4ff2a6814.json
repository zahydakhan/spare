{"ast":null,"code":"import _slicedToArray from \"C:/Users/zahyd/OneDrive/Desktop/pro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zahyd\\\\OneDrive\\\\Desktop\\\\pro\\\\frontend\\\\src\\\\pages\\\\site_order\\\\site_order.main.page.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { fetchSiteOrderStart } from '../../redux/site-orders/site_order.actions';\nimport { selectSiteOrderList } from '../../redux/site-orders/site_order.selector';\nimport TextField from '@material-ui/core/TextField';\nimport Button from \"@material-ui/core/Button\";\nimport { getCurrentDate } from \"../../utils/getCurrentDate\"; //Icon import\n\nimport BusinessIcon from '@material-ui/icons/Business';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar columns = [{\n  id: 'part_number',\n  label: 'Part Number',\n  minWidth: 100\n}, {\n  id: 'description',\n  label: 'Description',\n  minWidth: 100\n}, {\n  id: 'vendor_name',\n  label: 'Vendor Name',\n  minWidth: 100\n}, {\n  id: 'quantity',\n  label: 'Quantity',\n  minWidth: 100\n}, {\n  id: 'unit_price',\n  label: 'Unit Price',\n  minWidth: 100\n}, {\n  id: 'line_number',\n  label: 'Line Number',\n  minWidth: 100\n}, {\n  id: 'pr_number',\n  label: 'PR Number',\n  minWidth: 100\n}, {\n  id: 'total_price',\n  label: 'Total Price',\n  minWidth: 100\n}, {\n  id: 'site_name',\n  label: 'Site Name',\n  minWidth: 100\n}, {\n  id: 'month',\n  label: 'Month',\n  minWidth: 100\n}, {\n  id: 'actions',\n  label: 'Actions',\n  minWidth: 130\n}];\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%'\n    },\n    container: {\n      maxHeight: 440\n    },\n    customTable: {\n      '& .MuiTableCell-stickyHeader': {\n        backgroundColor: theme.palette.primary.main\n      }\n    }\n  };\n});\nexport default function StickyHeadTable() {\n  _s();\n\n  var _this = this;\n\n  var classes = useStyles();\n  var dispatch = useDispatch();\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      page = _React$useState2[0],\n      setPage = _React$useState2[1];\n\n  var _React$useState3 = React.useState(10),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      rowsPerPage = _React$useState4[0],\n      setRowsPerPage = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      search = _React$useState6[0],\n      setSearch = _React$useState6[1];\n\n  var siteOrderData = useSelector(function (state) {\n    return selectSiteOrderList(state);\n  });\n  console.log('Here is the sparepart data', siteOrderData);\n\n  var handleChangePage = function handleChangePage(event, newPage) {\n    setPage(newPage);\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(event) {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  var handleBlur = function handleBlur(event) {\n    console.log(event.target.value);\n    setSearch(event.target.value);\n  };\n\n  useEffect(function () {\n    dispatch(fetchSiteOrderStart({\n      pageNo: page,\n      rowsPerPage: rowsPerPage,\n      searchstr: search\n    }));\n  }, [page, rowsPerPage, search]);\n\n  var handleSubmit = function handleSubmit(row) {\n    return function (event) {\n      event.preventDefault();\n      console.log(row);\n      console.log(row.quantity);\n      row.month = getCurrentDate();\n      axiosInstance.post(\"/pr/main_pr/\", {\n        part_number: row.part_number,\n        description: row.description,\n        vendor_name: row.vendor_name,\n        unit_price: parseFloat(row.unit_price),\n        quantity: parseFloat(row.quantity),\n        total_price: parseFloat(row.total_price),\n        pr_number: row.pr_number,\n        line_number: row.line_number,\n        site_name: row.site_name,\n        month: row.month\n      }).then(function (res) {\n        return console.log(row);\n      });\n      axiosInstance.delete(\"/pr/sites_pr/\" + row.id).catch(function (error) {\n        if (error.response) {\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        }\n      }).then(function () {\n        window.location.reload();\n      });\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      align: \"center\",\n      style: {\n        marginBottom: '1em'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(BusinessIcon, {\n          fontSize: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          style: {\n            marginLeft: '0.5em'\n          },\n          children: [' ', \"Spare Part List\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      align: \"center\",\n      justify: \"space-between\",\n      style: {\n        marginBottom: '1em'\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-search\",\n          label: \"Search Sparepart\",\n          type: \"search\",\n          variant: \"outlined\",\n          onBlur: handleBlur\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n        className: classes.container,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          stickyHeader: true,\n          \"aria-label\": \"sticky table\",\n          classes: {\n            root: classes.customTable\n          },\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: columns.map(function (column) {\n                return /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: column.align,\n                  style: {\n                    minWidth: column.minWidth,\n                    color: '#fff'\n                  },\n                  children: column.label\n                }, column.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 10\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: siteOrderData.results ? siteOrderData.results.map(function (row) {\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.part_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.vendor_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.unit_price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.line_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.pr_number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.total_price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.site_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: getCurrentDate()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    className: classes.button,\n                    onClick: handleSubmit(row),\n                    children: \"Add\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 13\n                }, _this)]\n              }, row.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 12\n              }, _this);\n            }) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: [10, 25, 100],\n        component: \"div\",\n        count: siteOrderData.count,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onChangePage: handleChangePage,\n        onChangeRowsPerPage: handleChangeRowsPerPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 3\n  }, this);\n}\n\n_s(StickyHeadTable, \"h+THx6TbWrLQ8FgG7EvLy1Kwu7s=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c = StickyHeadTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"StickyHeadTable\");","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/pro/frontend/src/pages/site_order/site_order.main.page.js"],"names":["React","useEffect","useDispatch","useSelector","makeStyles","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Grid","Typography","fetchSiteOrderStart","selectSiteOrderList","TextField","Button","getCurrentDate","BusinessIcon","columns","id","label","minWidth","useStyles","theme","root","width","container","maxHeight","customTable","backgroundColor","palette","primary","main","StickyHeadTable","classes","dispatch","useState","page","setPage","rowsPerPage","setRowsPerPage","search","setSearch","siteOrderData","state","console","log","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","handleBlur","pageNo","searchstr","handleSubmit","row","preventDefault","quantity","month","axiosInstance","post","part_number","description","vendor_name","unit_price","parseFloat","total_price","pr_number","line_number","site_name","then","res","delete","catch","error","response","data","status","headers","window","location","reload","marginBottom","marginLeft","map","column","align","color","results","button","count"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { fetchSiteOrderStart } from '../../redux/site-orders/site_order.actions';\r\nimport { selectSiteOrderList } from '../../redux/site-orders/site_order.selector';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { getCurrentDate } from \"../../utils/getCurrentDate\";\r\n\r\n//Icon import\r\nimport BusinessIcon from '@material-ui/icons/Business';\r\n\r\nconst columns = [\r\n\t{ id: 'part_number', label: 'Part Number', minWidth: 100 },\r\n\t{ id: 'description', label: 'Description', minWidth: 100 },\r\n\t{\r\n\t\tid: 'vendor_name',\r\n\t\tlabel: 'Vendor Name',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'quantity',\r\n\t\tlabel: 'Quantity',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'unit_price',\r\n\t\tlabel: 'Unit Price',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'line_number',\r\n\t\tlabel: 'Line Number',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'pr_number',\r\n\t\tlabel: 'PR Number',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'total_price',\r\n\t\tlabel: 'Total Price',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'site_name',\r\n\t\tlabel: 'Site Name',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'month',\r\n\t\tlabel: 'Month',\r\n\t\tminWidth: 100,\r\n\t},\r\n\t{\r\n\t\tid: 'actions',\r\n\t\tlabel: 'Actions',\r\n\t\tminWidth: 130,\r\n\t},\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\twidth: '100%',\r\n\t},\r\n\tcontainer: {\r\n\t\tmaxHeight: 440,\r\n\t},\r\n\tcustomTable: {\r\n\t\t'& .MuiTableCell-stickyHeader': {\r\n\t\t\tbackgroundColor: theme.palette.primary.main,\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nexport default function StickyHeadTable() {\r\n\tconst classes = useStyles();\r\n\tconst dispatch = useDispatch();\r\n\tconst [page, setPage] = React.useState(0);\r\n\tconst [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\tconst [search, setSearch] = React.useState('');\r\n\r\n\tconst siteOrderData = useSelector((state) => selectSiteOrderList(state));\r\n\r\n\tconsole.log('Here is the sparepart data', siteOrderData);\r\n\r\n\tconst handleChangePage = (event, newPage) => {\r\n\t\tsetPage(newPage);\r\n\t};\r\n\r\n\tconst handleChangeRowsPerPage = (event) => {\r\n\t\tsetRowsPerPage(+event.target.value);\r\n\t\tsetPage(0);\r\n\t};\r\n\r\n\tconst handleBlur = (event) => {\r\n\t\tconsole.log(event.target.value);\r\n\t\tsetSearch(event.target.value);\r\n\t};\r\n\r\n  useEffect(() => {\r\n\t\tdispatch(\r\n\t\t\tfetchSiteOrderStart({\r\n\t\t\t\tpageNo: page,\r\n\t\t\t\trowsPerPage: rowsPerPage,\r\n\t\t\t\tsearchstr: search,\r\n\t\t\t})\r\n\t\t);\r\n\t}, [page, rowsPerPage, search]);\r\n\r\n  const handleSubmit = (row) => (event) => {\r\n    event.preventDefault();\r\n    console.log(row);\r\n    console.log(row.quantity);\r\n    row.month = getCurrentDate();\r\n    axiosInstance\r\n      .post(`/pr/main_pr/`, {\r\n        part_number: row.part_number,\r\n        description: row.description,\r\n        vendor_name: row.vendor_name,\r\n        unit_price: parseFloat(row.unit_price),\r\n        quantity: parseFloat(row.quantity),\r\n        total_price: parseFloat(row.total_price),\r\n        pr_number: row.pr_number,\r\n        line_number: row.line_number,\r\n        site_name: row.site_name,\r\n        month: row.month,\r\n      })\r\n      .then((res) => console.log(row));\r\n\r\n    axiosInstance\r\n      .delete(\"/pr/sites_pr/\" + row.id)\r\n      .catch(function (error) {\r\n        if (error.response) {\r\n          console.log(error.response.data);\r\n          console.log(error.response.status);\r\n          console.log(error.response.headers);\r\n        }\r\n      })\r\n      .then(function () {\r\n        window.location.reload();\r\n      });\r\n  };\r\n\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid container align='center' style={{ marginBottom: '1em' }}>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<BusinessIcon fontSize='large' />\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<Typography variant='h2' style={{ marginLeft: '0.5em' }}>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\tSpare Part List\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\talign='center'\r\n\t\t\t\tjustify='space-between'\r\n\t\t\t\tstyle={{ marginBottom: '1em' }}\r\n\t\t\t>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='outlined-search'\r\n\t\t\t\t\t\tlabel='Search Sparepart'\r\n\t\t\t\t\t\ttype='search'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t<Paper className={classes.root}>\r\n\t\t\t\t<TableContainer className={classes.container}>\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstickyHeader\r\n\t\t\t\t\t\taria-label='sticky table'\r\n\t\t\t\t\t\tclasses={{ root: classes.customTable }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t{columns.map((column) => (\r\n\t\t\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\t\t\tkey={column.id}\r\n\t\t\t\t\t\t\t\t\t\talign={column.align}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ minWidth: column.minWidth, color: '#fff' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{column.label}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t{siteOrderData.results\r\n\t\t\t\t\t\t\t\t? siteOrderData.results.map((row) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow hover key={row.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.part_number}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.description}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.vendor_name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.quantity}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.unit_price}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.line_number}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.pr_number}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.total_price}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{row.site_name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>{getCurrentDate()}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell>\r\n                        <Button\r\n                          variant='contained'\r\n                          className={classes.button}\r\n                          onClick={handleSubmit(row)}\r\n                        >\r\n                          Add\r\n                        </Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</TableContainer>\r\n\t\t\t\t<TablePagination\r\n\t\t\t\t\trowsPerPageOptions={[10, 25, 100]}\r\n\t\t\t\t\tcomponent='div'\r\n\t\t\t\t\tcount={siteOrderData.count}\r\n\t\t\t\t\trowsPerPage={rowsPerPage}\r\n\t\t\t\t\tpage={page}\r\n\t\t\t\t\tonChangePage={handleChangePage}\r\n\t\t\t\t\tonChangeRowsPerPage={handleChangeRowsPerPage}\r\n\t\t\t\t/>\r\n\t\t\t</Paper>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}