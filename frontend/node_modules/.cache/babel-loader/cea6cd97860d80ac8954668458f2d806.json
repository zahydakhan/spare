{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/zahyd/OneDrive/Desktop/pro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(fetchSparepart),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(onFetchSparepartStart),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(addSparepart),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(onAddSparepartStart),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(delSparepart),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(onDelSparepartStart),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(editSparepart),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(onEditSparepartStart),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(fetchSparepartFull),\n    _marked10 = /*#__PURE__*/_regeneratorRuntime.mark(onFetchSparepartFullStart);\n\nimport { takeEvery, takeLatest, put, call } from 'redux-saga/effects';\nimport * as Sparepart_types from './spareparts.types';\nimport axios from '../../utils/axios1';\nimport { editSparepartFailure, delSparepartFailure, addSparepartFailure, fetchSparepartStart, fetchSparepartSuccess, fetchSparepartFailure, fetchSparepartFullSuccess } from './spareparts.actions'; //Fetch SPAREPARTS Saga\n\nexport function fetchSparepart(action) {\n  var pageNo, rowsPerPage, searchstr, sparepartsList;\n  return _regeneratorRuntime.wrap(function fetchSparepart$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(\"running Fetch Sparepart Start saga\");\n          pageNo = action.payload.pageNo;\n          rowsPerPage = action.payload.rowsPerPage;\n          searchstr = action.payload.searchstr;\n          _context.prev = 4;\n          _context.next = 7;\n          return axios.get(\"/sp/sparelist/?search=\".concat(searchstr, \"&p=\").concat(pageNo + 1, \"&records=\").concat(rowsPerPage));\n\n        case 7:\n          sparepartsList = _context.sent;\n          console.log(sparepartsList);\n          console.log(sparepartsList.data);\n          _context.next = 12;\n          return put(fetchSparepartSuccess(sparepartsList.data));\n\n        case 12:\n          _context.next = 18;\n          break;\n\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](4);\n          _context.next = 18;\n          return put(fetchSparepartFailure(_context.t0.message));\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[4, 14]]);\n}\nexport function onFetchSparepartStart() {\n  return _regeneratorRuntime.wrap(function onFetchSparepartStart$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(Sparepart_types.FETCH_SPAREPART_START, fetchSparepart);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n} //Add SPAREPARTS Saga\n\nexport function addSparepart(action) {\n  var sparepartsList;\n  return _regeneratorRuntime.wrap(function addSparepart$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          console.log('running add sparepart start saga');\n          _context3.next = 4;\n          return axios.post(\"/sp/spareparts/\", action.payload);\n\n        case 4:\n          sparepartsList = _context3.sent;\n          console.log(sparepartsList);\n          _context3.next = 8;\n          return put(fetchSparepartStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 8:\n          _context3.next = 14;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 14;\n          return put(addSparepartFailure(_context3.t0.message));\n\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 10]]);\n}\nexport function onAddSparepartStart() {\n  return _regeneratorRuntime.wrap(function onAddSparepartStart$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(Sparepart_types.ADD_SPAREPART_START, addSparepart);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n} //Delete SPAREPARTS Saga\n\nexport function delSparepart(action) {\n  var sparepartsList;\n  return _regeneratorRuntime.wrap(function delSparepart$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          console.log('running delete sparepart axios');\n          console.log(action.payload);\n          _context5.next = 5;\n          return axios.delete(\"/sp/spareparts/\" + action.payload);\n\n        case 5:\n          sparepartsList = _context5.sent;\n          console.log(sparepartsList);\n          _context5.next = 9;\n          return put(fetchSparepartStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 9:\n          _context5.next = 15;\n          break;\n\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 15;\n          return put(delSparepartFailure(_context5.t0.message));\n\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 11]]);\n}\nexport function onDelSparepartStart() {\n  return _regeneratorRuntime.wrap(function onDelSparepartStart$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(Sparepart_types.DEL_SPAREPART_START, delSparepart);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n} //Edit SPAREPARTS Saga\n\nexport function editSparepart(action) {\n  var rowId, values, sparepartsList;\n  return _regeneratorRuntime.wrap(function editSparepart$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          console.log('running sparepart Edit saga');\n          rowId = action.payload.spareId;\n          values = action.payload.values;\n          _context7.next = 6;\n          return axios.put(\"/sp/spareparts/\".concat(rowId, \"/\"), values);\n\n        case 6:\n          sparepartsList = _context7.sent;\n          console.log(sparepartsList);\n          _context7.next = 10;\n          return put(fetchSparepartStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 10:\n          _context7.next = 16;\n          break;\n\n        case 12:\n          _context7.prev = 12;\n          _context7.t0 = _context7[\"catch\"](0);\n          _context7.next = 16;\n          return put(editSparepartFailure(_context7.t0.message));\n\n        case 16:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 12]]);\n}\nexport function onEditSparepartStart() {\n  return _regeneratorRuntime.wrap(function onEditSparepartStart$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(Sparepart_types.EDIT_SPAREPART_START, editSparepart);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n} //Fetch FULL SPAREPARTS Saga\n\nexport function fetchSparepartFull() {\n  var sparepartsListFull;\n  return _regeneratorRuntime.wrap(function fetchSparepartFull$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          console.log(\"running Fetch Sparepart Start saga\");\n          _context9.prev = 1;\n          _context9.next = 4;\n          return axios.get(\"/sp/spareparts/\");\n\n        case 4:\n          sparepartsListFull = _context9.sent;\n          console.log(sparepartsListFull);\n          console.log(sparepartsListFull.data);\n          _context9.next = 9;\n          return put(fetchSparepartFullSuccess(sparepartsListFull.data));\n\n        case 9:\n          _context9.next = 15;\n          break;\n\n        case 11:\n          _context9.prev = 11;\n          _context9.t0 = _context9[\"catch\"](1);\n          _context9.next = 15;\n          return put(fetchSparepartFullFailure(_context9.t0.message));\n\n        case 15:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9, null, [[1, 11]]);\n}\nexport function onFetchSparepartFullStart() {\n  return _regeneratorRuntime.wrap(function onFetchSparepartFullStart$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest(Sparepart_types.FETCH_SPAREPARTFULL_START, fetchSparepartFull);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/pro/frontend/src/redux/spareparts/spareparts.sagas.js"],"names":["fetchSparepart","onFetchSparepartStart","addSparepart","onAddSparepartStart","delSparepart","onDelSparepartStart","editSparepart","onEditSparepartStart","fetchSparepartFull","onFetchSparepartFullStart","takeEvery","takeLatest","put","call","Sparepart_types","axios","editSparepartFailure","delSparepartFailure","addSparepartFailure","fetchSparepartStart","fetchSparepartSuccess","fetchSparepartFailure","fetchSparepartFullSuccess","action","console","log","pageNo","payload","rowsPerPage","searchstr","get","sparepartsList","data","message","FETCH_SPAREPART_START","post","ADD_SPAREPART_START","delete","DEL_SPAREPART_START","rowId","spareId","values","EDIT_SPAREPART_START","sparepartsListFull","fetchSparepartFullFailure","FETCH_SPAREPARTFULL_START"],"mappings":"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","sourcesContent":["import { takeEvery, takeLatest, put, call } from 'redux-saga/effects'\n\nimport * as Sparepart_types from './spareparts.types';\nimport axios from '../../utils/axios1'\n\nimport {\n    editSparepartFailure,\n    delSparepartFailure,\n    addSparepartFailure,\n    fetchSparepartStart,\n    fetchSparepartSuccess,\n    fetchSparepartFailure,\n    fetchSparepartFullSuccess\n} from './spareparts.actions';\n\n\n//Fetch SPAREPARTS Saga\nexport function* fetchSparepart(action) {\n    console.log(\"running Fetch Sparepart Start saga\")\n    let pageNo = action.payload.pageNo\n    let rowsPerPage = action.payload.rowsPerPage\n    let searchstr = action.payload.searchstr\n    try {\n        const sparepartsList = yield axios.get(`/sp/sparelist/?search=${searchstr}&p=${pageNo+1}&records=${rowsPerPage}`);\n        console.log(sparepartsList)\n        console.log(sparepartsList.data)\n        yield put(fetchSparepartSuccess(sparepartsList.data));\n    } catch (error) {\n        yield put(fetchSparepartFailure(error.message));\n    }\n}\n\nexport function* onFetchSparepartStart() {\n        yield takeLatest(Sparepart_types.FETCH_SPAREPART_START, fetchSparepart);\n    }\n    //Add SPAREPARTS Saga\nexport function* addSparepart(action) {\n    try {\n        console.log('running add sparepart start saga')\n        const sparepartsList = yield axios.post(`/sp/spareparts/`, action.payload);\n        console.log(sparepartsList)\n\n        yield put(fetchSparepartStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n    } catch (error) {\n        yield put(addSparepartFailure(error.message));\n    }\n}\n\nexport function* onAddSparepartStart() {\n    yield takeLatest(Sparepart_types.ADD_SPAREPART_START, addSparepart);\n}\n\n//Delete SPAREPARTS Saga\nexport function* delSparepart(action) {\n    try {\n        console.log('running delete sparepart axios')\n        console.log(action.payload)\n        const sparepartsList = yield axios.delete(`/sp/spareparts/` + action.payload);\n        console.log(sparepartsList)\n\n        yield put(fetchSparepartStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n    } catch (error) {\n        yield put(delSparepartFailure(error.message));\n    }\n}\n\nexport function* onDelSparepartStart() {\n    yield takeLatest(Sparepart_types.DEL_SPAREPART_START, delSparepart);\n}\n\n//Edit SPAREPARTS Saga\nexport function* editSparepart(action) {\n    try {\n        console.log('running sparepart Edit saga')\n        let rowId = action.payload.spareId\n        let values = action.payload.values\n        const sparepartsList = yield axios.put(`/sp/spareparts/${rowId}/`, values);\n        console.log(sparepartsList)\n\n        yield put(fetchSparepartStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n    } catch (error) {\n        yield put(editSparepartFailure(error.message));\n    }\n}\n\nexport function* onEditSparepartStart() {\n    yield takeLatest(Sparepart_types.EDIT_SPAREPART_START, editSparepart);\n}\n\n\n//Fetch FULL SPAREPARTS Saga\nexport function* fetchSparepartFull() {\n    console.log(\"running Fetch Sparepart Start saga\")\n    try {\n        const sparepartsListFull = yield axios.get(`/sp/spareparts/`);\n        console.log(sparepartsListFull)\n        console.log(sparepartsListFull.data)\n        yield put(fetchSparepartFullSuccess(sparepartsListFull.data));\n    } catch (error) {\n        yield put(fetchSparepartFullFailure(error.message));\n    }\n}\n\nexport function* onFetchSparepartFullStart() {\n    yield takeLatest(Sparepart_types.FETCH_SPAREPARTFULL_START, fetchSparepartFull);\n}"]},"metadata":{},"sourceType":"module"}