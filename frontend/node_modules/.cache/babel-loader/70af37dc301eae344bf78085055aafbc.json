{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/zahyd/OneDrive/Desktop/pro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(fetchSiteOrder),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(onFetchSiteOrderStart),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(addSiteOrder),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(onAddSiteOrderStart),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(delSiteOrder),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(onDelSiteOrderStart),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(editSiteOrder),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(onEditSiteOrderStart);\n\nimport { takeLatest, put, call } from 'redux-saga/effects';\nimport * as siteOrder_types from './site_order.types';\nimport axios from '../../utils/axios1';\nimport { fetchSiteOrderStart, fetchSiteOrderSuccess, fetchSiteOrderFailure, addSiteOrderStart, addSiteOrderFailure, delSiteOrderStart, delSiteOrderFailure, editSiteOrderStart, editSiteOrderFailure } from './site_order.actions'; //Fetch Site Order Saga\n\nexport function fetchSiteOrder(action) {\n  var pageNo, rowsPerPage, searchstr, siteOrdersList;\n  return _regeneratorRuntime.wrap(function fetchSiteOrder$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log('running Site Order Fetch Start saga');\n          pageNo = action.payload.pageNo;\n          rowsPerPage = action.payload.rowsPerPage;\n          searchstr = action.payload.searchstr;\n          console.log(pageNo, rowsPerPage, searchstr);\n          _context.prev = 5;\n          _context.next = 8;\n          return axios.get(\"/pr/siteorderlist/?search=\".concat(searchstr, \"&p=\").concat(pageNo + 1, \"&records=\").concat(rowsPerPage));\n\n        case 8:\n          siteOrdersList = _context.sent;\n          console.log(siteOrdersList);\n          _context.next = 12;\n          return put(fetchSiteOrderSuccess(siteOrdersList.data));\n\n        case 12:\n          _context.next = 18;\n          break;\n\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](5);\n          _context.next = 18;\n          return put(fetchSiteOrderFailure(_context.t0.message));\n\n        case 18:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[5, 14]]);\n}\nexport function onFetchSiteOrderStart() {\n  return _regeneratorRuntime.wrap(function onFetchSiteOrderStart$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(siteOrder_types.FETCH_SITE_ORDER_START, fetchSiteOrder);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n} //Add ROLLERS Saga\n\nexport function addSiteOrder(action) {\n  var siteOrderList;\n  return _regeneratorRuntime.wrap(function addSiteOrder$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          console.log('running site order add start saga');\n          console.log(action.payload);\n          _context3.next = 5;\n          return axios.post(\"/pr/sites_pr/\", action.payload);\n\n        case 5:\n          siteOrderList = _context3.sent;\n          console.log(siteOrderList); //yield put(addRollerSuccess(sitesList.data));\n\n          _context3.next = 9;\n          return put(fetchSiteOrderStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 9:\n          _context3.next = 15;\n          break;\n\n        case 11:\n          _context3.prev = 11;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 15;\n          return put(addSiteOrderFailure(_context3.t0.message));\n\n        case 15:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 11]]);\n}\nexport function onAddSiteOrderStart() {\n  return _regeneratorRuntime.wrap(function onAddSiteOrderStart$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(siteOrder_types.ADD_SITE_ORDER_START, addSiteOrder);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n} //Delete ROLLERS Saga\n\nexport function delSiteOrder(action) {\n  var siteOrderList;\n  return _regeneratorRuntime.wrap(function delSiteOrder$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          console.log('running site order delete axios');\n          console.log(action.payload);\n          _context5.next = 5;\n          return axios.delete(\"/pr/sites_pr/\" + action.payload);\n\n        case 5:\n          siteOrderList = _context5.sent;\n          console.log(siteOrderList);\n          _context5.next = 9;\n          return put(fetchSiteOrderStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 9:\n          _context5.next = 15;\n          break;\n\n        case 11:\n          _context5.prev = 11;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 15;\n          return put(delSiteOrderFailure(_context5.t0.message));\n\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 11]]);\n}\nexport function onDelSiteOrderStart() {\n  return _regeneratorRuntime.wrap(function onDelSiteOrderStart$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(siteOrder_types.DEL_SITE_ORDER_START, delSiteOrder);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n} //Edit ROLLERS Saga\n\nexport function editSiteOrder(action) {\n  var rowId, values, siteOrderList;\n  return _regeneratorRuntime.wrap(function editSiteOrder$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          console.log('Running Site Order Edit saga');\n          rowId = action.payload.rollerId;\n          values = action.payload.values;\n          _context7.next = 6;\n          return axios.put(\"/pr/sites_pr/\".concat(rowId, \"/\"), values);\n\n        case 6:\n          siteOrderList = _context7.sent;\n          console.log(siteOrderList);\n          _context7.next = 10;\n          return put(fetchSiteOrderStart({\n            pageNo: 0,\n            rowsPerPage: 10,\n            searchstr: ''\n          }));\n\n        case 10:\n          _context7.next = 16;\n          break;\n\n        case 12:\n          _context7.prev = 12;\n          _context7.t0 = _context7[\"catch\"](0);\n          _context7.next = 16;\n          return put(editSiteOrderFailure(_context7.t0.message));\n\n        case 16:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 12]]);\n}\nexport function onEditSiteOrderStart() {\n  return _regeneratorRuntime.wrap(function onEditSiteOrderStart$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(siteOrder_types.EDIT_SITE_ORDER_START, editSiteOrder);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/pro/frontend/src/redux/site-orders/site_order.sagas.js"],"names":["fetchSiteOrder","onFetchSiteOrderStart","addSiteOrder","onAddSiteOrderStart","delSiteOrder","onDelSiteOrderStart","editSiteOrder","onEditSiteOrderStart","takeLatest","put","call","siteOrder_types","axios","fetchSiteOrderStart","fetchSiteOrderSuccess","fetchSiteOrderFailure","addSiteOrderStart","addSiteOrderFailure","delSiteOrderStart","delSiteOrderFailure","editSiteOrderStart","editSiteOrderFailure","action","console","log","pageNo","payload","rowsPerPage","searchstr","get","siteOrdersList","data","message","FETCH_SITE_ORDER_START","post","siteOrderList","ADD_SITE_ORDER_START","delete","DEL_SITE_ORDER_START","rowId","rollerId","values","EDIT_SITE_ORDER_START"],"mappings":"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","sourcesContent":["import { takeLatest, put, call } from 'redux-saga/effects';\n\nimport * as siteOrder_types from './site_order.types';\nimport axios from '../../utils/axios1';\n\nimport {\n\tfetchSiteOrderStart,\n\tfetchSiteOrderSuccess,\n\tfetchSiteOrderFailure,\n\taddSiteOrderStart,\n\taddSiteOrderFailure,\n\tdelSiteOrderStart,\n\tdelSiteOrderFailure,\n\teditSiteOrderStart,\n\teditSiteOrderFailure,\n\n} from './site_order.actions';\n\n//Fetch Site Order Saga\nexport function* fetchSiteOrder(action) {\n\tconsole.log('running Site Order Fetch Start saga');\n\tlet pageNo = action.payload.pageNo;\n\tlet rowsPerPage = action.payload.rowsPerPage;\n\tlet searchstr = action.payload.searchstr;\n\tconsole.log(pageNo, rowsPerPage, searchstr)\n\ttry {\n\t\tconst siteOrdersList = yield axios.get(\n\t\t\t`/pr/siteorderlist/?search=${searchstr}&p=${\n\t\t\t\tpageNo + 1\n\t\t\t}&records=${rowsPerPage}`\n\t\t);\n\t\tconsole.log(siteOrdersList);\n\t\tyield put(fetchSiteOrderSuccess(siteOrdersList.data));\n\t} catch (error) {\n\t\tyield put(fetchSiteOrderFailure(error.message));\n\t}\n}\n\nexport function* onFetchSiteOrderStart() {\n\tyield takeLatest(siteOrder_types.FETCH_SITE_ORDER_START, fetchSiteOrder);\n}\n//Add ROLLERS Saga\nexport function* addSiteOrder(action) {\n\ttry {\n\t\tconsole.log('running site order add start saga');\n\t\tconsole.log(action.payload);\n\t\tconst siteOrderList = yield axios.post(`/pr/sites_pr/`, action.payload);\n\t\tconsole.log(siteOrderList);\n\n\t\t//yield put(addRollerSuccess(sitesList.data));\n\t\tyield put(fetchSiteOrderStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n\t} catch (error) {\n\t\tyield put(addSiteOrderFailure(error.message));\n\t}\n}\n\nexport function* onAddSiteOrderStart() {\n\tyield takeLatest(siteOrder_types.ADD_SITE_ORDER_START, addSiteOrder);\n}\n\n//Delete ROLLERS Saga\nexport function* delSiteOrder(action) {\n\ttry {\n\t\tconsole.log('running site order delete axios');\n\t\tconsole.log(action.payload);\n\t\tconst siteOrderList = yield axios.delete(`/pr/sites_pr/` + action.payload);\n\t\tconsole.log(siteOrderList);\n\n\t\tyield put(fetchSiteOrderStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n\t} catch (error) {\n\t\tyield put(delSiteOrderFailure(error.message));\n\t}\n}\n\nexport function* onDelSiteOrderStart() {\n\tyield takeLatest(siteOrder_types.DEL_SITE_ORDER_START, delSiteOrder);\n}\n\n//Edit ROLLERS Saga\nexport function* editSiteOrder(action) {\n\ttry {\n\t\tconsole.log('Running Site Order Edit saga');\n\t\tlet rowId = action.payload.rollerId;\n\t\tlet values = action.payload.values;\n\t\tconst siteOrderList = yield axios.put(`/pr/sites_pr/${rowId}/`, values);\n\t\tconsole.log(siteOrderList);\n\n\t\tyield put(fetchSiteOrderStart({ pageNo: 0, rowsPerPage: 10, searchstr: '' }));\n\t} catch (error) {\n\t\tyield put(editSiteOrderFailure(error.message));\n\t}\n}\n\nexport function* onEditSiteOrderStart() {\n\tyield takeLatest(siteOrder_types.EDIT_SITE_ORDER_START, editSiteOrder);\n}\n"]},"metadata":{},"sourceType":"module"}