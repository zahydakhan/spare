{"ast":null,"code":"import _slicedToArray from \"C:/Users/zahyd/OneDrive/Desktop/pro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:/Users/zahyd/OneDrive/Desktop/pro/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\zahyd\\\\OneDrive\\\\Desktop\\\\pro\\\\frontend\\\\src\\\\pages\\\\main_order\\\\main_order.component.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport OrderTable from \"./main_order.table\";\nimport logo from \"../../assets/Images/boral-logo.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { selectMainOrderList } from '../../redux/main-order/main_order.selector';\nimport { selectSiteList } from '../../redux/sites/sites.selector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(function (theme) {\n  var _logo;\n\n  return {\n    logo: (_logo = {\n      margin: \"0.5em\",\n      height: \"5em\"\n    }, _defineProperty(_logo, theme.breakpoints.down(\"md\"), {\n      height: \"4em\",\n      margin: \"0.2em\"\n    }), _defineProperty(_logo, theme.breakpoints.down(\"xs\"), {\n      height: \"2.9em\",\n      margin: \"0.1em\"\n    }), _logo)\n  };\n});\nvar MainOrderComponent = /*#__PURE__*/React.forwardRef(_c = _s(function (props, ref) {\n  _s();\n\n  var selectedSite = props.selectedSite,\n      selectedVendor = props.selectedVendor,\n      selectedMonth = props.selectedMonth;\n  var classes = useStyles();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      finalData = _React$useState2[0],\n      setFinalData = _React$useState2[1];\n\n  var mainOrderList = useSelector(function (state) {\n    return selectMainOrderList(state);\n  });\n  var sitesList = useSelector(function (state) {\n    return selectSiteList(state);\n  });\n  useEffect(function () {\n    var result = mainOrderList.data.filter(function (item) {\n      var site_name = item.site_name,\n          vendor_name = item.vendor_name,\n          month = item.month;\n      return selectedSite.includes(site_name) && selectedVendor.includes(vendor_name) && selectedMonth.includes(month);\n    });\n    console.log(result);\n    setFinalData(result);\n  }, [selectedSite, selectedVendor, selectedMonth]);\n  console.log(\"selected site data in main component\", selectedSite);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: ref,\n    style: {\n      padding: \"2.5em\"\n    },\n    children: selectedSite.map(function (site) {\n      var site_data = sitesList.filter(function (st) {\n        return st.site == site;\n      });\n      var order_data = finalData.filter(function (order) {\n        return order.site_name == site;\n      }); //console.log(\"site_data \", site_data)\n      //console.log(\"order_data \", order_data)\n\n      return /*#__PURE__*/_jsxDEV(OrderTable, {\n        site_data: site_data,\n        order_data: order_data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, _this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, _this);\n}, \"eNL4K2tDTcP19Oeb+zairxO5hmc=\", false, function () {\n  return [useStyles, useSelector, useSelector];\n}));\n_c2 = MainOrderComponent;\nexport default MainOrderComponent;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MainOrderComponent$React.forwardRef\");\n$RefreshReg$(_c2, \"MainOrderComponent\");","map":{"version":3,"sources":["C:/Users/zahyd/OneDrive/Desktop/pro/frontend/src/pages/main_order/main_order.component.js"],"names":["React","useEffect","useDispatch","useSelector","OrderTable","logo","makeStyles","Grid","selectMainOrderList","selectSiteList","useStyles","theme","margin","height","breakpoints","down","MainOrderComponent","forwardRef","props","ref","selectedSite","selectedVendor","selectedMonth","classes","useState","finalData","setFinalData","mainOrderList","state","sitesList","result","data","filter","item","site_name","vendor_name","month","includes","console","log","padding","map","site","site_data","st","order_data","order"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport OrderTable from \"./main_order.table\";\r\nimport logo from \"../../assets/Images/boral-logo.png\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {selectMainOrderList} from '../../redux/main-order/main_order.selector';\r\nimport { selectSiteList } from '../../redux/sites/sites.selector';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  logo: {\r\n    margin: \"0.5em\",\r\n    height: \"5em\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      height: \"4em\",\r\n      margin: \"0.2em\",\r\n    },\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      height: \"2.9em\",\r\n      margin: \"0.1em\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst MainOrderComponent = React.forwardRef((props, ref) => {\r\n  const { selectedSite, selectedVendor, selectedMonth } = props;\r\n  const classes = useStyles();\r\n  const [finalData, setFinalData] = React.useState([]);\r\n  const mainOrderList = useSelector((state) => selectMainOrderList(state));\r\n  const sitesList = useSelector((state) => selectSiteList(state));\r\n\r\n  useEffect(() => {\r\n        const result = mainOrderList.data.filter((item) => {\r\n          const { site_name, vendor_name, month } = item;\r\n\r\n          return (\r\n            selectedSite.includes(site_name) &&\r\n            selectedVendor.includes(vendor_name) &&\r\n            selectedMonth.includes(month)\r\n          );\r\n        });\r\n\r\n        console.log(result);\r\n        setFinalData(result);\r\n\r\n  }, [selectedSite, selectedVendor, selectedMonth]);\r\n\r\n  console.log(\"selected site data in main component\", selectedSite)\r\n\r\n  return (\r\n    <div ref={ref} style={{ padding: \"2.5em\" }}>\r\n      {selectedSite.map((site) => {\r\n        let site_data = sitesList.filter(st => (st.site == site))\r\n        let order_data = finalData.filter(order => (order.site_name == site))\r\n        //console.log(\"site_data \", site_data)\r\n        //console.log(\"order_data \", order_data)\r\n        return(\r\n          <OrderTable site_data={site_data} order_data={order_data} />\r\n        )\r\n      })}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MainOrderComponent;\r\n"]},"metadata":{},"sourceType":"module"}